"use strict";function $toObj(o){return o?JSON.parse(o):{}}var $div=$(".cartList"),$empty=$(".commodity"),cookie_str=$.cookie("carts")?$.cookie("carts"):"";if(cookie_str){$empty.css("display","none");var key,cookie_obj=$toObj(cookie_str);for(key in cookie_obj){var good=cookie_obj[key],$ul=$("<ul></ul>").appendTo($div);$ul.addClass("goodInfo"),$ul.attr("data-good-id",key);var str='\n            <li><img src="'.concat(good.src,'" /></li>\n            <li>').concat(good.name,"</li>\n            <li>").concat(good.price,'</li>\n            <li class="num">\n                <a href="javascript:;" class="minus">-</a>\n                <input type="text" name="" id="" value="').concat(good.num,'" />\n                <a href="javascript:;" class="plus">+</a>\n            </li>\n            <li class="total">').concat(good.price*good.num,'</li>\n            <li><a href="javascript:;" class="del">删除</a></li>\n        ');$ul.html(str)}}else $empty.css("display","block");var minus=$(".minus");minus.each(function(o,t){var a=this;$(t).click(function(){var o=$(a).parents(".goodInfo").attr("data-good-id"),t=$toObj($.cookie("carts")?$.cookie("carts"):"");0<t[o].num&&t[o].num--,$.cookie("carts",JSON.stringify(t),{expires:7,path:"/"}),$(a).next().val(t[o].num),$(a).parent().next().text(t[o].num*t[o].price)})}),$(".plus").each(function(o,t){var a=this;$(t).click(function(){var o=$(a).parents(".goodInfo").attr("data-good-id"),t=$toObj($.cookie("carts")?$.cookie("carts"):"");t[o].num++,$.cookie("carts",JSON.stringify(t),{expires:7,path:"/"}),$(a).prev().val(t[o].num),$(a).parent().next().text(t[o].num*t[o].price)})});var del=$(".del");del.each(function(o,t){var a=this;$(t).click(function(){var o=$(a).parents(".goodInfo").attr("data-good-id"),t=$toObj($.cookie("carts")?$.cookie("carts"):"");delete t[o],$.cookie("carts",JSON.stringify(t),{expires:7,path:"/"}),$(a).parents(".goodInfo").remove()})});