"use strict";function $toObj(t){return t?JSON.parse(t):{}}var $buy=$("#buy");init(),$buy.click(function(){location.href="cart.html"});var $to_cart=$(".addToCart");function init(){var t,r=$toObj($.cookie("carts")?$.cookie("carts"):""),i=0;for(t in r)i+=r[t].num;$buy.val("购物车(".concat(i,")"))}$to_cart.each(function(t,r){var n=this;$(r).on("click",function(t){var r=$(n).parent().attr("data-good-id"),i=$(n).prev().prev().text(),c=$(n).siblings("img").attr("src"),a=parseInt($(n).prev().text()),o=$toObj($.cookie("carts")?$.cookie("carts"):"");r in o?o[r].num++:o[r]={name:i,src:c,price:a,num:1},$.cookie("carts",JSON.stringify(o),{expires:7,path:"/"}),init()})});